<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú–∞—Å—Ç–µ—Ä –≥–æ–¥–∞ ‚Äî –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</title>
  <link rel="stylesheet" href="style.css">
  <script type="module" src="js/accessibility-init.js"></script>
  <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∂—ë–ª—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
  <div class="yellow-deco deco-top-left"></div>
  <div class="yellow-deco deco-top-right"></div>
  <div class="yellow-deco deco-bottom-left"></div>
  <div class="yellow-deco deco-bottom-right"></div>
  <svg class="yellow-svg-fg" width="100%" height="100%" viewBox="0 0 1920 1080" style="position:fixed;top:0;left:0;z-index:3;pointer-events:none;">
    <circle cx="350" cy="180" r="32" fill="#ffe000" fill-opacity="0.7"/>
    <rect x="1536" y="108" width="48" height="48" fill="#ffe000" fill-opacity="0.5"/> <!-- 80%, 10% -->
    <polygon points="90,600 130,650 50,650" fill="#ffe000" fill-opacity="0.7"/>
    <circle cx="1824" cy="972" r="22" fill="#ffe000" fill-opacity="0.6"/> <!-- 95%, 90% -->
    <rect x="1152" y="864" width="36" height="36" fill="#ffe000" fill-opacity="0.4"/> <!-- 60%, 80% -->
    <polygon points="1800,400 1850,480 1750,480" fill="#ffe000" fill-opacity="0.3"/>
    <circle cx="1152" cy="216" r="18" fill="#ffe000" fill-opacity="0.7"/> <!-- 60%, 20% -->
    <circle cx="384" cy="864" r="14" fill="#ffe000" fill-opacity="0.5"/> <!-- 20%, 80% -->
    <rect x="192" y="648" width="22" height="22" fill="#ffe000" fill-opacity="0.6"/> <!-- 10%, 60% -->
    <polygon points="1728,60 1766,90 1689,90" fill="#ffe000" fill-opacity="0.5"/> <!-- 90%, 92%, 88% -->
  </svg>
  
  <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ –∂—ë–ª—Ç—ã–µ —Ñ–∏–≥—É—Ä—ã -->
  <div class="yellow-shape shape1"></div>
  <div class="yellow-shape shape2"></div>
  <div class="yellow-shape shape3"></div>
  <div class="yellow-shape shape4"></div>
  <div class="yellow-shape shape5"></div>
  <div class="yellow-shape shape6"></div>
  <svg class="yellow-svg-bg" width="100%" height="100%" viewBox="0 0 1920 1080" style="position:fixed;top:0;left:0;z-index:3;pointer-events:none;">
    <circle cx="350" cy="180" r="32" fill="#ffe000" fill-opacity="0.7"/>
    <rect x="1536" y="108" width="48" height="48" fill="#ffe000" fill-opacity="0.5"/> <!-- 80%, 10% -->
    <polygon points="90,600 130,650 50,650" fill="#ffe000" fill-opacity="0.7"/>
    <circle cx="1824" cy="972" r="22" fill="#ffe000" fill-opacity="0.6"/> <!-- 95%, 90% -->
    <rect x="1152" y="864" width="36" height="36" fill="#ffe000" fill-opacity="0.4"/> <!-- 60%, 80% -->
    <polygon points="1800,400 1850,480 1750,480" fill="#ffe000" fill-opacity="0.3"/>
    <circle cx="1152" cy="216" r="18" fill="#ffe000" fill-opacity="0.7"/> <!-- 60%, 20% -->
    <circle cx="384" cy="864" r="14" fill="#ffe000" fill-opacity="0.5"/> <!-- 20%, 80% -->
    <rect x="192" y="648" width="22" height="22" fill="#ffe000" fill-opacity="0.6"/> <!-- 10%, 60% -->
    <polygon points="1728,60 1766,90 1689,90" fill="#ffe000" fill-opacity="0.5"/> <!-- 90%, 92%, 88% -->
  </svg>
  <div class="welcome-header">
    <div class="logos">
      <img src="img/logo1.png" alt="–õ–æ–≥–æ—Ç–∏–ø 1" class="logo">
      <img src="img/logo2.png" alt="–õ–æ–≥–æ—Ç–∏–ø 2" class="logo">
      <img src="img/logo3.png" alt="–õ–æ–≥–æ—Ç–∏–ø 3" class="logo">
      <img src="img/logo4.png" alt="–õ–æ–≥–æ—Ç–∏–ø 4" class="logo">
      <img src="img/logo5.png" alt="–õ–æ–≥–æ—Ç–∏–ø 5" class="logo">
    </div>
  </div>
  <div class="welcome-main">
    <div class="master-block">
      <div class="master-title">
        <span>C</span><span>–ê</span><span>–ô</span>
        <div class="master-icons">
          <span class="icon-arrow"></span>
          <span class="icon-square"></span>
          <span class="icon-dot"></span>
        </div>
        <span>–¢</span><span>–ò</span><span>–ö</span>
      </div>
      <div class="master-subtitle">–≥–æ–¥–∞</div>
    </div>
    <div class="welcome-graphics">
      <!-- –í—Ä–µ–º–µ–Ω–Ω—ã–µ SVG –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—è -->
      <svg width="350" height="200">
        <circle cx="60" cy="60" r="40" stroke="#ffe000" stroke-width="3" fill="none"/>
        <rect x="120" y="30" width="40" height="40" fill="#ffe000"/>
        <polygon points="200,60 220,100 180,100" fill="#ffe000"/>
        <circle cx="280" cy="60" r="20" fill="#ffe000"/>
      </svg>
    </div>
    <div class="welcome-cards">
      <a class="welcome-card" href="profile.html">
        <div class="card-title">üë®‚Äçüíª–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—åüë©‚Äçüíª</div>
        <div class="card-desc">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏ –∏–∑–º–µ–Ω–∏—Ç—å –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è.</div>
      </a>
      <a class="welcome-card" href="gallery.html">
        <div class="card-title">üéì–ì–∞–ª–ª–µ—Ä–µ—è –∫–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–πüéì</div>
        <div class="card-desc">–û—Ü–µ–Ω–∏—Ç—å –ª—É—á—à–∏–µ —Ä–∞–±–æ—Ç—ã, –≤–¥–æ—Ö–Ω–æ–≤–∏—Ç—å—Å—è –∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º –∫–æ–¥–æ–º.</div>
      </a>
      <a class="welcome-card" href="chat.html">
        <div class="card-title">üí¨–û–±—â–∏–π —á–∞—Çüí¨</div>
        <div class="card-desc">–û–±—â–∞–π—Ç–µ—Å—å, –¥–µ–ª–∏—Ç–µ—Å—å –∏–¥–µ—è–º–∏ –∏ –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</div>
      </a>
      <a id="admin-card" class="welcome-card admin-card" href="admin.html" style="border-color: #ff9800; background: linear-gradient(135deg, rgba(255, 152, 0, 0.1) 0%, rgba(255, 152, 0, 0.05) 100%); display: none;">
        <div class="card-title">üõ†Ô∏è–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—åüõ†Ô∏è</div>
        <div class="card-desc">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —Å–∏—Å—Ç–µ–º—ã.</div>
      </a>
    </div>
  </div>
  <div class="welcome-footer">
    <div class="footer-icons">
      <span class="footer-square"></span>
      <span class="footer-circle"></span>
      <span class="footer-triangle"></span>
      <span class="footer-square"></span>
      <span class="footer-circle"></span>
      <span class="footer-triangle"></span>
      <span class="footer-square"></span>
    </div>
  </div>

  <!-- Firebase –∏ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–∏ -->
  <script type="module" src="js/firebase-init.js"></script>
  <script>
    // –ñ–¥—ë–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Firebase
    function waitForFirebase() {
      if (typeof firebase !== 'undefined' && firebase.auth && window.auth && window.db) {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–∫–∞–∑ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
        window.auth.onAuthStateChanged(async (user) => {
      const adminCard = document.getElementById('admin-card');
      
      if (user) {
        try {
          // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Firestore
          const userDoc = await db.collection('users').doc(user.uid).get();
          
          if (userDoc.exists) {
            const userData = userDoc.data();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if (userData.role === 'admin') {
              adminCard.style.display = 'block';
            } else {
              adminCard.style.display = 'none';
            }
          } else {
            // –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–∫—Ä—ã–≤–∞–µ–º –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
            adminCard.style.display = 'none';
          }
        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
          adminCard.style.display = 'none';
        }
      } else {
        // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, —Å–∫—Ä—ã–≤–∞–µ–º –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
        adminCard.style.display = 'none';
      }
    });
      } else {
        // –ñ–¥—ë–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Firebase
        setTimeout(waitForFirebase, 100);
      }
    }
    
    // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
    waitForFirebase();
  </script>
</body>
</html> 